<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WebArcade</title>

<style>
:root {
  --bg:#020617;
  --card:#0f172a;
  --accent:#7c7cff;
  --text:#e5e7eb;
  --error:#ff6b6b;
  --success:#4ade80;
}

* { box-sizing:border-box; }

body {
  margin:0;
  font-family:"Segoe UI",system-ui,sans-serif;
  background:radial-gradient(circle at top,#0f172a,#020617);
  color:var(--text);
  min-height:100vh;
}

/* HEADER */
header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:18px 32px;
}

header h1 {
  margin:0;
  font-size:24px;
}

header button {
  border:none;
  padding:8px 20px;
  border-radius:999px;
  background:linear-gradient(90deg,#6d6df6,#7c7cff);
  color:white;
  font-weight:600;
  cursor:pointer;
}

/* HERO */
.hero {
  height:calc(100vh - 80px);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:0 20px;
}

.hero h2 {
  font-size:3rem;
  margin-bottom:10px;
}

.hero p {
  opacity:.8;
  max-width:520px;
}

/* MODAL BACKDROP */
.modal-backdrop {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(8px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10;
}

/* MODAL */
.modal {
  position:relative;
  background:linear-gradient(
    180deg,
    rgba(255,255,255,.08),
    rgba(255,255,255,.02)
  );
  backdrop-filter:blur(20px);
  border-radius:20px;
  width:100%;
  max-width:380px;
  padding:28px;
  box-shadow:0 40px 80px rgba(0,0,0,.5);
  animation:pop .35s ease;
}

@keyframes pop {
  from { transform:scale(.92); opacity:0 }
  to { transform:scale(1); opacity:1 }
}

/* CLOSE BUTTON â€” RESTORED */
.close-btn {
  position:absolute;
  top:12px;
  right:14px;
  font-size:22px;
  background:none;
  border:none;
  color:#9ca3af;
  cursor:pointer;
}
.close-btn:hover {
  color:white;
}

.modal h3 {
  margin-top:0;
  margin-bottom:18px;
  text-align:center;
}

input {
  width:100%;
  padding:12px 14px;
  border-radius:10px;
  border:none;
  background:#020617;
  color:white;
  margin-bottom:12px;
  outline:none;
}

input::placeholder {
  color:#9ca3af;
}

.modal button.main-btn {
  width:100%;
  padding:12px;
  border:none;
  border-radius:999px;
  background:var(--accent);
  font-weight:700;
  cursor:pointer;
  margin-top:8px;
}

.status {
  margin-top:10px;
  font-size:14px;
  text-align:center;
}

.error { color:var(--error); }
.success { color:var(--success); }

.switch {
  margin-top:12px;
  font-size:14px;
  text-align:center;
  opacity:.85;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
  <h1>WebArcade ðŸŽ®</h1>
  <button onclick="openModal()">Login / Signup</button>
</header>

<div class="hero">
  <h2>Play. Compete. Relax.</h2>
  <p>A modern arcade where your progress is saved, your scores matter, and fun never stops.</p>
</div>

<!-- MODAL -->
<div class="modal-backdrop" id="modal" onclick="closeModal(event)">
  <div class="modal">
    <button class="close-btn" onclick="closeModal()">Ã—</button>

    <h3 id="modalTitle">Login</h3>

    <input id="email" type="email" placeholder="Email">
    <input id="password" type="password" placeholder="Password">

    <button class="main-btn" id="actionBtn">Continue</button>

    <div class="status" id="status"></div>

    <div class="switch" onclick="toggleMode()">
      New user? Create account
    </div>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import {
  getAuth,
  signInWithEmailAndPassword,
  createUserWithEmailAndPassword
} from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCzomf89xZhgcPsfYXKsYspCt-CiUVzjBA",
  authDomain: "webarcade-d4c3d.firebaseapp.com",
  projectId: "webarcade-d4c3d"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const modal = document.getElementById("modal");
const statusEl = document.getElementById("status");
const actionBtn = document.getElementById("actionBtn");
const titleEl = document.getElementById("modalTitle");
const switchEl = document.querySelector(".switch");

let mode = "login";

window.openModal = () => {
  modal.style.display = "flex";
  statusEl.textContent = "";
};

window.closeModal = (e) => {
  if (!e || e.target === modal) {
    modal.style.display = "none";
  }
};

window.toggleMode = () => {
  mode = mode === "login" ? "signup" : "login";
  titleEl.textContent = mode === "login" ? "Login" : "Sign Up";
  switchEl.textContent =
    mode === "login"
      ? "New user? Create account"
      : "Already have an account?";
};

actionBtn.onclick = async () => {
  statusEl.textContent = "Please wait...";
  statusEl.className = "status";

  try {
    if (mode === "login") {
      await signInWithEmailAndPassword(auth, email.value, password.value);
    } else {
      await createUserWithEmailAndPassword(auth, email.value, password.value);
    }
    statusEl.textContent = "Success! Redirectingâ€¦";
    statusEl.classList.add("success");
    location.href = "blog.html";
  } catch (err) {
    statusEl.textContent = err.message.replace("Firebase: ","");
    statusEl.classList.add("error");
  }
};
</script>

</body>
</html>
